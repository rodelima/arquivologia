(function(n){n.fn.pgwSlideshow=function(t){var c={mainClassName:"pgwSlideshow",transitionEffect:"sliding",displayList:!0,displayControls:!0,touchControls:!0,autoSlide:!1,beforeSlide:!1,afterSlide:!1,maxHeight:null,adaptiveDuration:200,transitionDuration:500,intervalDuration:3e3},i;if(this.length==0)return this;if(this.length>1)return this.each(function(){n(this).pgwSlideshow(t)}),this;i=this;i.plugin=this;i.config={};i.data=[];i.currentSlide=0;i.slideCount=0;i.resizeEvent=null;i.intervalEvent=null;i.touchFirstPosition=null;i.touchListLastPosition=!1;i.window=n(window);var v=function(){return i.config=n.extend({},c,t),a(),i.config.displayList&&o(),i.window.resize(function(){clearTimeout(i.resizeEvent);i.resizeEvent=setTimeout(function(){e();var n=i.plugin.find(".ps-current > ul > li.elt_"+i.currentSlide+" img").height();f(n);i.config.displayList&&(o(),h())},100)}),i.config.autoSlide&&u(),!0},f=function(n){return i.config.maxHeight&&n+i.plugin.find(".ps-list").height()>i.config.maxHeight&&(n=i.config.maxHeight-i.plugin.find(".ps-list").height()),typeof i.plugin.find(".ps-current").animate=="function"?i.plugin.find(".ps-current").stop().animate({height:n},i.config.adaptiveDuration,function(){i.config.maxHeight&&i.plugin.find(".ps-current > ul > li img").css("max-height",n+"px")}):(i.plugin.find(".ps-current").css("height",n),i.config.maxHeight&&i.plugin.find(".ps-current > ul > li img").css("max-height",n+"px")),!0},l=function(){var t=0;return i.plugin.show(),i.plugin.find(".ps-list > ul > li").show().each(function(){t+=n(this).width()}),i.plugin.find(".ps-list > ul").width(t),!0},e=function(){return i.plugin.width()<=480?i.plugin.addClass("narrow").removeClass("wide"):i.plugin.addClass("wide").removeClass("narrow"),!0},a=function(){if(i.plugin.removeClass("pgwSlideshow").removeClass(i.config.mainClassName),i.plugin.wrap('<div class="ps-list"><\/div>'),i.plugin=i.plugin.parent(),i.plugin.wrap('<div class="'+i.config.mainClassName+'"><\/div>'),i.plugin=i.plugin.parent(),i.plugin.prepend('<div class="ps-current"><ul><\/ul><span class="ps-caption"><\/span><\/div>'),i.slideCount=i.plugin.find(".ps-list > ul > li").length,i.slideCount==0)throw new Error("pgwSlideshow - No slider item has been found");if(i.slideCount>1&&(i.config.displayControls&&(i.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"><\/span><\/span>'),i.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"><\/span><\/span>'),i.plugin.find(".ps-current .ps-prev").click(function(){i.previousSlide()}),i.plugin.find(".ps-current .ps-next").click(function(){i.nextSlide()})),i.config.touchControls)){i.plugin.find(".ps-current").on("touchstart",function(n){try{n.originalEvent.touches[0].clientX&&i.touchFirstPosition==null&&(i.touchFirstPosition=n.originalEvent.touches[0].clientX)}catch(n){i.touchFirstPosition=null}});i.plugin.find(".ps-current").on("touchmove",function(n){try{n.originalEvent.touches[0].clientX&&i.touchFirstPosition!=null&&(n.originalEvent.touches[0].clientX>i.touchFirstPosition+50?(i.touchFirstPosition=null,i.previousSlide()):n.originalEvent.touches[0].clientX<i.touchFirstPosition-50&&(i.touchFirstPosition=null,i.nextSlide()))}catch(n){i.touchFirstPosition=null}});i.plugin.find(".ps-current").on("touchend",function(){i.touchFirstPosition=null})}var t=1;if(i.plugin.find(".ps-list > ul > li").each(function(){var u=y(n(this)),f;u.id=t;i.data.push(u);n(this).addClass("elt_"+u.id);n(this).wrapInner('<span class="ps-item'+(t==1?" ps-selected":"")+'"><\/span>');f=n('<li class="elt_'+t+'"><\/li>');u.image?f.html('<img src="'+u.image+'" alt="'+(u.title?u.title:"")+'">'):u.thumbnail&&f.html('<img src="'+u.thumbnail+'" alt="'+(u.title?u.title:"")+'">');u.link?f.html('<a href="'+u.link+'"'+(u.linkTarget?' target="'+u.linkTarget+'"':"")+">"+f.html()+"<\/a>"):u.fullimage&&f.html('<a rel="prettyPhoto[galleryPGW]" title="'+(u.description?u.description:"")+'" data-image-full="'+u.fullimage+'" href="'+u.image+'" ><button type="button" class="btn btn-default btn-fullscreen-image" title="Visualizar em tela cheia"><span>Visualizar em tela cheia<\/span><\/button>'+f.html()+"<\/a>");i.plugin.find(".ps-current > ul").append(f);n(this).css("cursor","pointer").click(function(n){n.preventDefault();r(u.id)});t++}),i.config.displayList?(l(),i.plugin.find(".ps-list").prepend('<span class="ps-prev"><span class="ps-prevIcon"><\/span><\/span>'),i.plugin.find(".ps-list").append('<span class="ps-next"><span class="ps-nextIcon"><\/span><\/span>'),i.plugin.find(".ps-list").show()):i.plugin.find(".ps-list").hide(),i.config.autoSlide)i.plugin.on("mouseenter",function(){clearInterval(i.intervalEvent);i.intervalEvent=null}).on("mouseleave",function(){u()});i.plugin.find(".ps-current > ul > li").hide();r(1);i.plugin.find(".ps-current > ul > li.elt_1 img").on("load",function(){e();var n=i.plugin.find(".ps-current > ul > li.elt_1 img").height();f(n)});return e(),i.plugin.show(),!0},y=function(n){var t={},s=n.find("a").attr("href"),i,r,u,f,e,o;return typeof s!="undefined"&&s!=""&&(t.link=s,i=n.find("a").attr("target"),typeof i!="undefined"&&i!=""&&(t.linkTarget=i)),r=n.find("img").attr("src"),typeof r!="undefined"&&r!=""&&(t.thumbnail=r),u=n.find("img").attr("data-large-src"),typeof u!="undefined"&&u!=""&&(t.image=u),f=n.find("img").attr("data-full-src"),typeof f!="undefined"&&f!=""&&(t.fullimage=f),e=n.find("img").attr("alt"),typeof e!="undefined"&&e!=""&&(t.title=e),o=n.find("img").attr("data-description"),typeof o!="undefined"&&o!=""&&(t.description=o),t},s=function(n){var t="",r;return n.title&&(t+="<b>"+n.title+"<\/b>"),n.description&&(t!=""&&(t+="<br>"),t+=n.description),t!=""&&(n.link&&(t='<a href="'+n.link+'"'+(n.linkTarget?' target="'+n.linkTarget+'"':"")+">"+t+"<\/a>"),typeof i.plugin.find(".ps-caption").fadeIn=="function"?(i.plugin.find(".ps-caption").html(t),i.plugin.find(".ps-caption").fadeIn(i.config.transitionDuration/2)):(i.plugin.find(".ps-caption").html(t),i.plugin.find(".ps-caption").show())),i.plugin.find(".ps-list > ul > li .ps-item").removeClass("ps-selected"),i.plugin.find(".ps-list > ul > li.elt_"+n.id+" .ps-item").addClass("ps-selected"),i.config.displayList&&(o(),h()),i.config.displayControls&&(typeof i.plugin.find(".ps-current > .ps-prev").fadeIn=="function"?i.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(i.config.transitionDuration/2):i.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),typeof i.config.afterSlide=="function"&&i.config.afterSlide(n.id),r=i.plugin.find(".ps-current .elt_"+n.id+" img").height(),f(r,!0),!0},p=function(t){var f=i.plugin.find(".ps-current > ul"),r,u;return f.find("li").not(".elt_"+i.currentSlide).not(".elt_"+t.id).each(function(){typeof n(this).stop=="function"&&n(this).stop();n(this).css("position","").css("z-index",1).hide()}),i.currentSlide>0&&(r=f.find(".elt_"+i.currentSlide),typeof r.animate!="function"&&(r.animate=function(n,t,i){r.css(n);i&&i()}),typeof r.stop=="function"&&r.stop(),r.css("position","absolute").animate({opacity:0},i.config.transitionDuration,function(){r.css("position","").css("z-index",1).hide()})),i.currentSlide=t.id,u=f.find(".elt_"+t.id),typeof u.animate!="function"&&(u.animate=function(n,t,i){u.css(n);i&&i()}),typeof u.stop=="function"&&u.stop(),u.css("position","absolute").show().animate({opacity:1},i.config.transitionDuration,function(){u.css("position","").css("z-index",2).css("display","block");s(t)}),!0},w=function(n,t){var e=i.plugin.find(".ps-current > ul"),f,o,h,r,u;if(typeof t=="undefined"&&(t="left"),i.currentSlide==0)e.find(".elt_1").css({position:"",left:"",opacity:1,"z-index":2}).show(),i.plugin.find(".ps-list > li.elt_1").css("opacity","1"),s(n);else{if(i.transitionInProgress)return!1;i.transitionInProgress=!0;f=e.width();t=="left"?(o=-f,h=f):(o=f,h=-f);r=e.find(".elt_"+i.currentSlide);typeof r.animate!="function"&&(r.animate=function(n,t,i){r.css(n);i&&i()});r.css("position","absolute").animate({left:o},i.config.transitionDuration,function(){r.css("position","").css("z-index",1).css("left","").css("opacity",0).hide()});u=e.find(".elt_"+n.id);typeof u.animate!="function"&&(u.animate=function(n,t,i){u.css(n);i&&i()});u.css("position","absolute").css("left",h).css("opacity",1).show().animate({left:0},i.config.transitionDuration,function(){u.css("position","").css("left","").css("z-index",2).show();i.transitionInProgress=!1;s(n)})}return i.currentSlide=n.id,!0},r=function(n,t,r){if(n==i.currentSlide)return!1;var f=i.data[n-1];if(typeof f=="undefined")throw new Error("pgwSlideshow - The element "+n+" is undefined");return typeof r=="undefined"&&(r="left"),typeof i.config.beforeSlide=="function"&&i.config.beforeSlide(n),typeof i.plugin.find(".ps-caption").fadeOut=="function"?i.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(i.config.transitionDuration/2):i.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),i.config.transitionEffect=="sliding"?w(f,r):p(f),typeof t!="undefined"&&i.config.autoSlide&&u(),!0},u=function(){return clearInterval(i.intervalEvent),i.slideCount>1&&i.config.autoSlide&&(i.intervalEvent=setInterval(function(){var n;n=i.currentSlide+1<=i.slideCount?i.currentSlide+1:1;r(n)},i.config.intervalDuration)),!0},o=function(){var e,f;if(!i.config.displayList)return!1;l();var r=i.plugin.find(".ps-list"),t=r.width(),n=i.plugin.find(".ps-list > ul"),u=n.width();if(u>t){if(n.css("margin","0 45px"),f=parseInt(n.css("margin-left")),e=parseInt(n.css("margin-right")),t-=f+e,r.find(".ps-prev").show().unbind("click").click(function(){var f=parseInt(n.css("left")),r=f+t;f==0?r=-(u-t):r>0&&(r=0);typeof n.animate=="function"?n.animate({left:r},i.config.transitionDuration):n.css("left",r)}),r.find(".ps-next").show().unbind("click").click(function(){var e=parseInt(n.css("left")),r=e-t,f=-(u-t);e==f?r=0:r<f&&(r=f);typeof n.animate=="function"?n.animate({left:r},i.config.transitionDuration):n.css("left",r)}),i.config.touchControls){i.plugin.find(".ps-list > ul").on("touchmove",function(t){var e,f,o,h,u;try{if(t.originalEvent.touches[0].clientX&&(e=i.touchListLastPosition==!1?0:i.touchListLastPosition,nbPixels=i.touchListLastPosition==!1?1:Math.abs(e-t.originalEvent.touches[0].clientX),i.touchListLastPosition=t.originalEvent.touches[0].clientX,f="",e>t.originalEvent.touches[0].clientX?f="left":e<t.originalEvent.touches[0].clientX&&(f="right")),o=parseInt(n.css("left")),f=="left"){var s=r.width(),c=n.width(),l=parseInt(n.css("margin-left")),a=parseInt(n.css("margin-right"));s-=l+a;h=-(c-s);u=o-nbPixels;u>h&&n.css("left",u)}else f=="right"&&(u=o+nbPixels,u<0?n.css("left",u):n.css("left",0))}catch(t){i.touchListLastPosition=!1}});i.plugin.find(".ps-list > ul").on("touchend",function(){i.touchListLastPosition=!1})}}else f=parseInt((t-u)/2),n.css("left",0).css("margin-left",f),r.find(".ps-prev").hide(),r.find(".ps-next").hide(),i.plugin.find(".ps-list > ul").unbind("touchstart touchmove touchend");return!0},h=function(){var t=i.plugin.find(".ps-list").width(),n=i.plugin.find(".ps-list > ul"),f=n.width(),h=parseInt(n.css("margin-left")),c=parseInt(n.css("margin-right")),u;t-=h+c;var e=Math.abs(parseInt(n.css("left"))),o=e+t,r=i.plugin.find(".ps-list .ps-selected").position().left,s=r+i.plugin.find(".ps-list .ps-selected").width();return(r<e||s>o||f>t&&o>s)&&(u=-(f-t),-r<u?n.css("left",u):n.css("left",-r)),!0};return i.startSlide=function(){return i.config.autoSlide=!0,u(),!0},i.stopSlide=function(){return i.config.autoSlide=!1,clearInterval(i.intervalEvent),!0},i.getCurrentSlide=function(){return i.currentSlide},i.getSlideCount=function(){return i.slideCount},i.displaySlide=function(n){return r(n,!0),!0},i.nextSlide=function(){var n;return n=i.currentSlide+1<=i.slideCount?i.currentSlide+1:1,r(n,!0,"left"),!0},i.previousSlide=function(){var n;return n=i.currentSlide-1>=1?i.currentSlide-1:i.slideCount,r(n,!0,"right"),!0},i.destroy=function(t){return clearInterval(i.intervalEvent),typeof t!="undefined"?(i.plugin.find(".ps-list > ul > li").each(function(){n(this).attr("style",null).removeClass().unbind("click");n(this).html(n(this).find("span").html())}),i.plugin.find(".ps-current").remove(),i.plugin.find(".ps-list").find(".ps-prev, .ps-next").remove(),i.plugin.find(".ps-list > ul").addClass(i.config.mainClassName).attr("style",""),i.plugin.find(".ps-list > ul").unwrap().unwrap(),i.hide()):i.parent().parent().remove(),i.plugin=null,i.data=[],i.config={},i.currentSlide=0,i.slideCount=0,i.resizeEvent=null,i.intervalEvent=null,i.touchFirstPosition=null,i.window=null,!0},i.reload=function(t){return i.destroy(!0),i=this,i.plugin=this,i.window=n(window),i.plugin.show(),i.config=n.extend({},c,t),a(),i.window.resize(function(){clearTimeout(i.resizeEvent);i.resizeEvent=setTimeout(function(){e();var n=i.plugin.find(".ps-current > ul > li.elt_"+i.currentSlide+" img").css("max-height","").height();f(n);i.config.displayList&&(o(),h())},100)}),i.config.autoSlide&&u(),!0},v(),this}})(window.Zepto||window.jQuery);
/*
//# sourceMappingURL=pgwslideshow.min.js.map
*/